<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"  >
<mapper namespace="com.it.mapper.UserMapper">

    <resultMap id="BaseResultMap" type="com.it.domain.User">
        <id column="id" jdbcType="BIGINT" property="id" />
        <result column="username" jdbcType="VARCHAR" property="username" />
        <result column="head_image" jdbcType="VARCHAR" property="headImage" />
        <result column="sex" jdbcType="VARCHAR" property="sex" />
        <result column="birth_day" jdbcType="TINYINT" property="birthDay" />
        <result column="education" jdbcType="VARCHAR" property="education" />
        <result column="interest" jdbcType="VARCHAR" property="interest" />
        <result column="c_time" jdbcType="VARCHAR" property="cTime" />
    </resultMap>

    <select id="findUserInfo" resultMap="BaseResultMap" parameterType="String">
        SELECT
            id,
            username username,
            head_image headImage,
            sex sex,
            birth_day birthDay,
            education education,
            interest interest,
            c_time cTime
        FROM
            t_user
        <if test="username!=null">
            WHERE username = #{username}
            LIMIT 1
        </if>
    </select>

    <select id="queryUserInfo" resultMap="BaseResultMap" parameterType="String">
        SELECT
            id,
            username username,
            head_image headImage,
            sex sex,
            birth_day birthDay,
            education education,
            interest interest,
            c_time cTime
        FROM
            `t_user`
        WHERE
            username = #{username}
            AND `password` = #{password}
        LIMIT 1
    </select>
</mapper>
